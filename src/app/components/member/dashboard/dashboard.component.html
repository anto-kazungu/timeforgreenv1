<div class="dashboard-container">
  <!-- Top Navigation Bar -->
  <app-top-nav pageTitle="Dashboard" [showBackButton]="false"></app-top-nav>

  <div class="content">
    <!-- Hero Welcome Card -->
    <div class="hero-card">
      <div class="hero-content">
        <h1 class="hero-title">Hi, {{ userName }}</h1>
        <p class="hero-subtitle">Ready to make a positive impact today?</p>
      </div>
      <div class="hero-illustration">
        <span class="material-symbols-outlined hero-icon">eco</span>
      </div>
    </div>

    <!-- Stats Overview Cards -->
    <div class="stats-overview">
      <div class="stat-card stat-green">
        <div class="stat-icon">
          <span class="material-symbols-outlined">eco</span>
        </div>
        <div class="stat-info">
          <p class="stat-label">Green Points</p>
          <h3 class="stat-value">{{ greenPoints }}</h3>
        </div>
      </div>
      
      <div class="stat-card stat-purple">
        <div class="stat-icon">
          <span class="material-symbols-outlined">check_circle</span>
        </div>
        <div class="stat-info">
          <p class="stat-label">Level {{ userLevel }}</p>
          <h3 class="stat-value">{{ levelName }}</h3>
        </div>
      </div>
      
      <div class="stat-card stat-pink">
        <div class="stat-icon">
          <span class="material-symbols-outlined">park</span>
        </div>
        <div class="stat-info">
          <p class="stat-label">Trees Planted</p>
          <h3 class="stat-value">{{ totalTreesPlanted || 0 }}</h3>
        </div>
      </div>
      
      <div class="stat-card stat-blue">
        <div class="stat-icon">
          <span class="material-symbols-outlined">groups</span>
        </div>
        <div class="stat-info">
          <p class="stat-label">Communities</p>
          <h3 class="stat-value">{{ communitiesCount || 0 }}</h3>
        </div>
      </div>
    </div>

    <!-- Recent Activities Section -->
    <div class="section-header">
      <h2>Recent Activities</h2>
      <button class="view-all-btn" (click)="navigateToTab('communities')">View All</button>
    </div>

    <div class="activities-list">
      <div class="activity-item" *ngFor="let post of posts.slice(0, 3)" (click)="viewPost(post.id)">
        <div class="activity-thumbnail" [style.background]="post.gradient">
          <span class="material-symbols-outlined">article</span>
        </div>
        <div class="activity-content">
          <h4 class="activity-title">{{ post.title }}</h4>
          <p class="activity-description">{{ post.content.substring(0, 80) }}...</p>
          <div class="activity-meta">
            <span class="activity-badge">{{ post.category }}</span>
            <span class="activity-status">
              <span class="material-symbols-outlined">visibility</span>
              Public
            </span>
          </div>
        </div>
        <div class="activity-actions">
          <button class="icon-btn-small">
            <span class="material-symbols-outlined">edit</span>
          </button>
          <button class="icon-btn-small">
            <span class="material-symbols-outlined">delete</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Quick Navigation -->
    <div class="quick-nav-grid">
      <button class="quick-nav-card" (click)="navigateToTab('communities')">
        <span class="material-symbols-outlined">groups</span>
        <span>Communities</span>
      </button>
      <button class="quick-nav-card" (click)="navigateToTab('trainings')">
        <span class="material-symbols-outlined">school</span>
        <span>Learn</span>
      </button>
      <button class="quick-nav-card" (click)="navigateToTab('events')">
        <span class="material-symbols-outlined">event</span>
        <span>Events</span>
      </button>
      <button class="quick-nav-card" (click)="navigateToTab('rewards')">
        <span class="material-symbols-outlined">redeem</span>
        <span>Rewards</span>
      </button>
    </div>
  </div>
</div>
